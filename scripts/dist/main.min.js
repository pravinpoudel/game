"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var cubePosition=[1,1,0,0,1,0,1,1,1,0,1,1,0,0,1,0,1,0,0,0,0,1,1,0,1,0,0,1,1,1,1,0,1,0,0,1,1,0,0,0,0,0],up=[0,1,0],vs="#version 300 es\n    in vec3 a_position;\n    in float a_textureCordinate;\n    \n    uniform mat4 u_ModelMatrix;\n    uniform mat4 u_wvProjectionMatrix;\n\n    out vec3 vertexCordinate;\n\n    void main(){\n        // gl_Position =  u_wvProjectionMatrix* vec4((2.0*a_position)- vec3(1.0, 1.0, 1.0), 1.0);\n        gl_Position =  u_wvProjectionMatrix* u_ModelMatrix* vec4(a_position, 1.0);\n        // gl_Position =  u_wvProjectionMatrix* vec4(a_position, 1.0);\n \n        vertexCordinate = a_position;   \n    }\n",fs="#version 300 es\n\n    #define M_PI 3.1415926535897932384626433832795\n\n    precision mediump float;\n\n    in vec3 vertexCordinate;\n    uniform sampler2D u_sphereText;\n\n    out vec4 outColor;\n\n    void main(){\n     \n        //  generation of UV cordinate\n        vec3 vertDirection = normalize(vertexCordinate - vec3(0.0, 0.0, 0.0));\n        float u = atan(vertDirection.x, vertDirection.z)/(2.0*M_PI) + 0.5;\n        float v = 0.5-vertDirection.y ;\n    \n        outColor = texture(u_sphereText, vec2(u,v));\n        // outColor = vec4(1.0, 0.8,  0.0, 1.0);\n    }\n\n";!function(){var l=document.querySelector("#main-canvas").getContext("webgl2");if(l){l.getExtension("OES_element_index_uint");var s=webglUtils.createProgramFromSources(l,[vs,fs]),e=l.getAttribLocation(s,"a_position"),v=l.getUniformLocation(s,"u_sphereText"),E=l.getUniformLocation(s,"u_wvProjectionMatrix"),T=l.getUniformLocation(s,"u_ModelMatrix"),m=l.createVertexArray();l.bindVertexArray(m);var A=sphereVertIndices(),t=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,t),l.bufferData(l.ARRAY_BUFFER,new Float32Array(_toConsumableArray(A[0])),l.STATIC_DRAW),l.enableVertexAttribArray(e),l.vertexAttribPointer(e,3,l.FLOAT,!1,0,0);var r=l.createTexture();l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,r);var n=l.RGBA,o=l.RGBA,a=l.UNSIGNED_BYTE,i=new Uint8Array([0,0,255,255]);l.texImage2D(l.TEXTURE_2D,0,n,1,1,0,o,a,i);var c=new Image;c.crossOrigin="",c.src="http://localhost/game/images/texture/ball.jpg",c.onload=function(){console.log("i am loaded"),l.texImage2D(l.TEXTURE_2D,0,n,o,a,c),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST)};var f=0,R=0;requestAnimationFrame(function e(){webglUtils.resizeCanvasToDisplaySize(l.canvas),l.viewport(0,0,l.canvas.width,l.canvas.height),l.clearColor(.5,.5,.5,.5),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.enable(l.CULL_FACE),l.enable(l.DEPTH_TEST),l.enable(l.BLEND),l.useProgram(s),l.bindVertexArray(m),l.uniform1i(v,1);var t=x(R+=1),r=x(f),n=m4.yRotation(t);l.uniformMatrix4fv(T,!1,n);var o=m4.yRotation(r);o=m4.translate(o,0,0,1.5),cameraPosition=[o[12],o[13],o[14]],o=function(e,t){return m4.lookAt(e,[1,0,0],t)}(cameraPosition,up),viewMatrix=m4.inverse(o);var a=l.canvas.clientWidth/l.canvas.clientHeight,i=x(90),c=m4.perspective(i,a,.01,1e3),u=l.createBuffer();l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,u),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array(_toConsumableArray(A[1])),l.STATIC_DRAW);var _=m4.multiply(c,viewMatrix);l.uniformMatrix4fv(E,!1,_),l.drawElements(l.TRIANGLES,A[1].length,l.UNSIGNED_SHORT,0),window.requestAnimationFrame(e)})}else console.log("webgl2 not found");function x(e){return Math.PI/180*e}}();
//# sourceMappingURL=main.min.js.map
