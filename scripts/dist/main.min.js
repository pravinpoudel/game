"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}!function(){var E=document.querySelector("#main-canvas").getContext("webgl2");if(E){E.getExtension("OES_element_index_uint");var c=webglUtils.createProgramFromSources(E,[vs,fs]),m=webglUtils.createProgramFromSources(E,[vsTriangle,fsTriangle]),_=(webglUtils.createProgramFromSources(E,[vsSkybox,fs]),E.createVertexArray());E.bindVertexArray(_);var R=E.getAttribLocation(c,"a_position"),u=E.getUniformLocation(c,"u_sphereText"),f=E.getUniformLocation(c,"u_ModelMatrix"),g=E.getUniformLocation(c,"u_wvProjectionMatrix");console.log(E.getUniformLocation(m,"u_vpMatrix"));var b={position:E.getAttribLocation(m,"a_position"),modelMatrixLocation:E.getUniformLocation(m,"u_vpMatrix")},v=sphereVertIndices(),U=E.createBuffer();E.bindBuffer(E.ARRAY_BUFFER,U),E.bufferData(E.ARRAY_BUFFER,new Float32Array(_toConsumableArray(v[0])),E.STATIC_DRAW);var d=E.createBuffer();E.bindBuffer(E.ARRAY_BUFFER,d),E.bufferData(E.ARRAY_BUFFER,new Float32Array(positionTriangle),E.STATIC_DRAW);var e=E.createTexture();E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,e);var r=E.RGBA,t=E.RGBA,a=E.UNSIGNED_BYTE,o=new Uint8Array([0,0,255,255]);E.texImage2D(E.TEXTURE_2D,0,r,1,1,0,t,a,o);var i=new Image;i.crossOrigin="",i.src="http://localhost/game/images/texture/ball.jpg",i.onload=function(){console.log("i am loaded"),E.texImage2D(E.TEXTURE_2D,0,r,t,a,i),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST)};var x=0;requestAnimationFrame(function e(){var r;webglUtils.resizeCanvasToDisplaySize(E.canvas),E.viewport(0,0,E.canvas.width,E.canvas.height),E.clearColor(0,0,1,.5),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),E.enable(E.CULL_FACE),E.enable(E.DEPTH_TEST),E.enable(E.BLEND),E.useProgram(c),E.bindVertexArray(_),E.uniform1i(u,1),E.bindBuffer(E.ARRAY_BUFFER,U),E.enableVertexAttribArray(R),E.vertexAttribPointer(R,3,E.FLOAT,!1,0,0);degToRadian(modelDegree);var t=degToRadian(x),a=m4.yRotation(0),o=(r=m4).translate.apply(r,[a].concat(_toConsumableArray(modelTranslation)));console.log(o),m4.multiply(a,o,a),E.uniformMatrix4fv(f,!1,a);var i=m4.yRotation(t);i=m4.translate(i,0,0,cameraYposition),cameraPosition=[i[12],i[13],i[14]],cameraPosition=[0,1,0],i=initialCameraSetup(cameraPosition,up),viewMatrix=m4.inverse(i);var n=E.canvas.clientWidth/E.canvas.clientHeight,l=degToRadian(90),s=m4.perspective(l,n,.01,1e3),T=E.createBuffer();E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,T),E.bufferData(E.ELEMENT_ARRAY_BUFFER,new Uint16Array(_toConsumableArray(v[1])),E.STATIC_DRAW);var A=m4.multiply(s,viewMatrix);E.uniformMatrix4fv(g,!1,A),E.drawElements(E.TRIANGLES,v[1].length,E.UNSIGNED_SHORT,0),E.bindBuffer(E.ARRAY_BUFFER,d),E.enableVertexAttribArray(b.position),E.vertexAttribPointer(b.position,3,E.FLOAT,!1,0,0),E.useProgram(m),E.uniformMatrix4fv(b.modelMatrixLocation,!1,A),E.drawArrays(E.TRIANGLE_STRIP,0,3),window.requestAnimationFrame(e)})}else console.log("webgl2 not found")}();
//# sourceMappingURL=main.min.js.map
