{"version":3,"sources":["main.js"],"names":["cubePosition","up","vs","fs","canvas","document","querySelector","gl","getContext","console","log","program","webglUtils","createProgramFromSources","positionLocation","getAttribLocation","viewProjectionLocation","getUniformLocation","vao","createVertexArray","bindVertexArray","positionBufferr","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","degToRadian","deg","Math","PI","radToDegree","rad","initialCameraSetup","cameraPosition","cameraMatrix","m4","lookAt","cameraRadian","yRotation","translate","viewMatrix","inverse","drawScene","resizeCanvasToDisplaySize","viewport","width","height","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","enable","CULL_FACE","DEPTH_TEST","BLEND","useProgram","aspect","clientWidth","clientHeight","fieldofView","projectionMatrix","perspective","vProjectionMatrix","multiply","uniformMatrix4fv","drawArrays","TRIANGLE_STRIP","length"],"mappings":"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","sourcesContent":["`use strict`;\r\n\r\nconst cubePosition = [\r\n  1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0,\r\n  0, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0,\r\n];\r\nconst up = [0, 1, 0];\r\n\r\nconst vs = `#version 300 es\r\n    in vec3 a_position;\r\n    in float a_textureCordinate;\r\n    \r\n    uniform mat4 u_wvProjectionMatrix;\r\n\r\n    void main(){\r\n        gl_Position =  u_wvProjectionMatrix* vec4(a_position, 1.0);\r\n       \r\n    }\r\n`;\r\n\r\nconst fs = `#version 300 es\r\n        precision highp float;\r\n\r\n        out vec4 outColor;\r\n\r\n        void main(){\r\n            outColor = vec4(0.0, 0.8, 0.0, 0.8);\r\n        }\r\n\r\n`;\r\n\r\n(function () {\r\n  const canvas = document.querySelector(\"#main-canvas\");\r\n  let gl = canvas.getContext(\"webgl2\");\r\n  if (!gl) {\r\n    console.log(\"webgl2 not found\");\r\n    return;\r\n  }\r\n\r\n  let program = webglUtils.createProgramFromSources(gl, [vs, fs]);\r\n  let positionLocation = gl.getAttribLocation(program, \"a_position\");\r\n  let viewProjectionLocation = gl.getUniformLocation(\r\n    program,\r\n    \"u_wvProjectionMatrix\"\r\n  );\r\n\r\n  let vao = gl.createVertexArray();\r\n  gl.bindVertexArray(vao);\r\n\r\n  let positionBufferr = gl.createBuffer();\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBufferr);\r\n  gl.bufferData(\r\n    gl.ARRAY_BUFFER,\r\n    new Float32Array(cubePosition),\r\n    gl.STATIC_DRAW\r\n  );\r\n  gl.enableVertexAttribArray(positionLocation);\r\n  gl.vertexAttribPointer(positionLocation, 3, gl.FLOAT, false, 0, 0);\r\n\r\n  function degToRadian(deg) {\r\n    return (Math.PI / 180) * deg;\r\n  }\r\n\r\n  function radToDegree(rad) {\r\n    return (180 / Math.PI) * rad;\r\n  }\r\n\r\n  function initialCameraSetup(cameraPosition, up) {\r\n    let cameraMatrix = m4.lookAt(cameraPosition, [1, 0, 0], up);\r\n    return cameraMatrix;\r\n  }\r\n\r\n  let cameraRadian = degToRadian(0);\r\n  let cameraMatrix = m4.yRotation(cameraRadian);\r\n  cameraMatrix = m4.translate(cameraMatrix, 0.5, 0.5, 1.5);\r\n\r\n  cameraPosition = [cameraMatrix[12], cameraMatrix[13], cameraMatrix[14]];\r\n  cameraPosition = [0.5, -1.0, 1.5];\r\n  cameraMatrix = initialCameraSetup(cameraPosition, up);\r\n  viewMatrix = m4.inverse(cameraMatrix);\r\n\r\n  function drawScene() {\r\n    webglUtils.resizeCanvasToDisplaySize(gl.canvas);\r\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n\r\n    gl.clearColor(0.5, 0.5, 0.5, 0.5);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.enable(gl.BLEND);\r\n\r\n    gl.useProgram(program);\r\n    gl.bindVertexArray(vao);\r\n\r\n    let aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n    let fieldofView = degToRadian(60);\r\n    let projectionMatrix = m4.perspective(fieldofView, aspect, 0.01, 1000);\r\n\r\n    let vProjectionMatrix = m4.multiply(projectionMatrix, viewMatrix);\r\n    gl.uniformMatrix4fv(viewProjectionLocation, false, vProjectionMatrix);\r\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, cubePosition.length / 3);\r\n  }\r\n\r\n  drawScene();\r\n})();\r\n"],"file":"main.dev.js"}